# DVA Project

## Resources

### Organization

I'll have links for stuff that we're using here.

- [project description](https://docs.google.com/document/d/e/2PACX-1vThwMfiQ7of-0OjhZsqV3kR78CA8Ep12VknPNQjDjQiug6X3mVEIUHGtg5nTtcUWIwYZFby5ZWatKCm/pub)

- [Shared Google Drive](https://drive.google.com/drive/folders/1OrXGF1PI-5eWbbj2sR2GRrIatR_86SJk?usp=sharing)
  - Thought this might be easier for reports.

- [Discord group](https://discord.com/channels/@me/1325943794285416600)
  - note please let me know if this doesn't work for you.
  - Let's have most discussions here for now.

- [Github Project](https://github.com/users/dgmouris/projects/3/views/1?layout=board)
  - Take a look here.

### Proposal Presentation (uses sli.dev)

#### installation

1. go in to the `proposal-presentation` folder
   1. take a look at [sli.dev docs](https://sli.dev/guide/)
2. install all dependencies with npm `npm install`
3. run the project `npm run dev`
   1. it should open [the presentation at http://localhost:3030/](http://localhost:3030/)

### Report Resources Sources Perhaps
- Stats
  - [Shot,team,lines, data](https://www.moneypuck.com/data.htm)
  - [nhl trades](https://www.nhltradetracker.com/)
  - [nhl api](https://gitlab.com/dword4/nhlapi/-/blob/master/stats-api.md)
  - [nhl edge stats maybe](https://github.com/coreyjs/nhl-api-py)
  - https://developer.sportradar.com/
  - https://sportsdata.io/

- Books
  - [stat shot](https://www.amazon.ca/Hockey-Abstract-Presents-Stat-Shot/dp/177041309X)

- Articles
  - [nhl edge](https://puckovertheglass.substack.com/p/first-looks-at-the-new-team-nhl-edge)

- Extra Articles
  - https://ieeexplore.ieee.org/abstract/document/6327288
  - https://www.sciencedirect.com/science/article/pii/S1877705814005876
  - https://www.tandfonline.com/doi/abs/10.1080/10671188.1963.10613232

## Contribution Guidelines

To be discussed with the team.

## Meeting Minutes

### February 26th

- Agenda
  - Good job on the Proposal Document.
    - Let's remove colors
    - If everyone is good let's hand it in early.
    - Notes about the project
      - Run through it one last time.
      - Risk of having too much.
      - Risks
        - Tough to see more of them
        - Misusage of the tool.
        - Maybe it's useless to analyze as a five man unit
          - Maybe there's not enough head to head data (maybe?)
    - Take one more look
      - Edits in the discord.
    - Toshan not available for the next couple of days.
  - Slides
    - it seems like everyone was good with it.
    - I merged in slides to the repo https://github.com/dgmouris/dva_6242_project?tab=readme-ov-file#proposal-presentation-uses-slidev
    - Let's talk and make adjustments if we need.
    - This uses node and NPM (probably something you'll use at some point)
      - You can bring this down and try it or we'll talk about it on tuesday.
    - Notes
      - Add some Literature Survey
      - Fix the references.
  - Presentation (I'd prefer to get this done today.)
    - Let's plan what we're going to say as we only have 120 seconds.
    - Follows the slides.
    - Make an original recording and work from there.
    - Notes
      - If not complete make a plan (I can't meet on thursday so it would have to be friday if we're not done.)
      - I don't think we need to be all speaking, as it might be tight for 120, I don't mind who does but let's just make sure were on the same page.

    - Thoughts
      - preset video?
      - doesn't have to be everyone speaking.
        - clipping
        - Toshan Feels okay with this.
        - does any one feel not comfortable speaking? no
        - voice over only
      - Quick turnaround for right now
      - Decide what section each person is going to talk about.
      - Time to prepare x2.5 we'll prepare this.
        - write a script, time yourself know how long it's going to take.
    - Times to record
      - Friday or Saturday Afternoon
      - Saturday 11Am MST and 1pm EST
        - https://teams.microsoft.com/l/meetup-join/19%3ameeting_MDBjZjRkZGItYWFmMS00NjAxLWFkZjAtNmE3NjRiOWFmNWI4%40thread.v2/0?context=%7b%22Tid%22%3a%225c98fb47-d3b9-4649-9d94-f88cbdd9729c%22%2c%22Oid%22%3a%227b3063ee-b564-4565-ae13-6b9c363952f8%22%7d
        - pending that we can hand in during the grace period (hopefully get a confirmation.)
    - Divvy up now as your read it.
      - no preference
      - based on slides (2 slides each)
      - Structure of slides (lower bound works)
        - Title (6 seconds)
          - Dan going to do this.
        - Overview (15 seconds)
          - Dan going to do this.
        - What are we trying to do (20-30 seconds)
          - A quick sketch of what it looks like?
            - Dan take a quick look at the landscape and how you could maybe make this a bit better.
          - Dan going to do this.
        - How is done today and limitations (30+ seconds)
          - Tyler going to do this.
        - What's new in our approach (20-30 seconds)
          - Dylan going to do this.
        - Cost time checks for success (15-20 seconds)
          - Dylan going to do this.
        - Who cares (10 seconds)
          - Kaiyu going to do this.
        - Risks and Payoffs (15-20 seconds)
          - Kaiyu going to do this.
        - Conclusions (83.4% in)? (10-15)
          - What's new/What were trying do.
            - Maybe a quick mockup here that you could do but refer to the above.
          - Dylan going to do this.
        - References (3 seconds seconds)
          - Dylan going to do this.
      - We're not bound to this but please message earlier rather than later on changing.
      - We could change around the slides to fix ordering if we wanted to for smoothness.
      - Communicate this early on the discord.
      - Takeaways
        - Do your job
          - know your part
          - say average time by friday after noon.

  - Tuesday Github session
    - talk about a time that works
    - scope is make prs answer any quesitons
      - merge in tylers original thoughts.
    - (time permitting) talk about npm if you need.
    - Expectation:
      - you've taken a bit of a gander at PRs and github in general.

### February 19th

- Agenda
  - Expectation/Communication
    - nobody here is a psychic please communicate.
    - please post when you're working https://github.com/dgmouris/dva_6242_project/issues/4
      - I think this would help.
      - whenever you're posting to the issues, also post to the discord just incase someone hasn't seen great.
    - branching correct system there.
      - everyone understands how to make a pr
      - everyone reviews.
    - Git tutorial
      - Dans going to run it.
      - Tyler Toshan Kaiyu
      - Things to look up on git.
        - Things to look up is branching
        - and creating PR.

  - Scope
    - Tidy up scope from last time
      - we have a lot of data and discussion on what metrics to show for the MVP
      - Options to compare the player to the line and another comparable line.
        - Shot Differential
        - Created adj +/- based on shot quality.
        - Rebounds angle?
        - zone entries.
          - take a look here https://www.allthreezones.com/ might be used ful but double check the source data if it's on money puck.
      - Start with existing lines
        - Switch out a player should be a potential option.
      - Finding comparable lines
        - Similarity metric between lines
    - Not Shot distance
    - Taken from diagram.
        Two Separate Models

        1. Comparable Lines and a Similarity Score
        (unsupervised learning kind of way)
        a. nearest neighbours.
        b. select one of the comparable lines.
        c. display line v line add asterisk.

        How a line is composed?

        2. Take inputs of a forward line
        and takes a metric that would predict the
        players stats with a perspective player and
        what the predictive player would be.
        a. directly inject the player at current stats at that line
        b. create a more complex model to adjust for more at that line.

        Note: We would need one metric for this. we would
        need to be careful on the model in model in model.
    - Idea (what we all agree on.)
      - Comparable lines first based on a few metrics (list here)
      - Second layer is to create the predicted line and compare them.
    - Come up with a clear title (a couple have been talked about in the chat)
    - Title
      - discuss later on.

  - Follow up on literature survey
    - Toshan: tie it into the ideas.
      - add a piece.
    - Optional index:


  - Proposal Document.
    - Tie in your literature to this.

    - Take a look at whats there already
      - what needs to be changed
      - what needs to be added
      - How the hell are we going to add the literature survey.
    - Some one take a look at doing latex (I really don't want to take that one on)
    -
  - Talk about slides and schedule for the next week on creating the video.
    - video
    - slides
    - gantt chart
  - Whatever else pops up.

- Takeaways
  - Everyone needs to read the proposal and add where your literature would add to the context.
  - Message the discord when you're doing this.
    - more of like I'm working on this section (it might change please review.)
  - Project by Saturday
  - Slides
    - Start on Sunday
  - The Recording should be
  - Gantt Chartt
    - Weeks (from Feb 19 to April 18)
      - 1 Febrarya 19 (before we submit)
        - Finalizing Proposa1
      - 2
        - Backend
          - Create a database and import the data (begin the import)
          - Decide which framework to use for
        - Frontend
          - Create a rough sketch of what the visualization would look like.
          - Decide whether to use D3, with js and frameworks to use
      - 3
        - Backend
          - Importing all of the data to the backend.
          - Begin creating the api
            - Searching players
            - Searching lines
            - Being able get all of the data for that given line in a json format that's digestable.
        - Frontend
          - Discuss the json api format that we'll use
          - A standard so that we can work on the frontend without the backend.
      - 4
        - Backend
          - Finalize REST API (dan explain this to everyone)
        - Frontend
          - Begin makeing the calls to the web application.
      - 5
        - Fix bugs
      - 6
        - Fix bugs
      - 7
        - Project Paper
      - 8
        - Presentation


### February 12th.
- Agenda
  - Expectations/Communication.
    - Is this working so far and would you like a kanban board to clearly track tasks.
      - We'll need it later,
    - Maybe think about a good "working time/day" so that we can make a lot of progress quick.
      - an issue of when you think you'll be working on things.
      - Agree on times
        - dylan
        - tosh later
        - everyone's good.
  - Narrow down scope of our idea and what we'd like to do.
    - We should have our idea finalized today or in the next few days TBD.
    - I'd like to discuss the "layers" of our project (MVP -> What would be awesome but cut if necessary)
    - Prediction would be be really useful from another player team into another this line
      - This is a better route
    - How we do we determine how good a line is?
      - above replacement value?
      - difficult how players mesh together/line chemistry
      - classify players by characteristiscs and might be a little more complicated.
    - Diffcult piece is how we measure success
      - net value of a line
      - visualization of a line (I might ask on ed about this.)
    - Make a predicted line based on xG corsi/fenwick of three players normalized per minute. multiple by the toi ice of a baseline line.
      - Normalized value to a per60mins could be the net score.
      - Success metric could be how is the model working.
      - Nice to have not need have but back testing on performance of lines as th.
    - What we all agree
      - predicted vs baseline (a real line)
      - create a net score the the real line
      - create a predicted net score of a "predicted line"
      - visualize some of the values like (for both sides)
        - xG
        - corsi
        - shot
      - implemented the shot data (predicted heat map.)
        - use our score to modify the shot data some way.
      - implement the ra
      - Stretch goals do the defensemen.
        - as well
      - If we can get the shift data we can get the teams we can calculate the defensive side of the puck
        - Let's take a look at if we can get the shift data.
      - If we can also get that data we could compare it other teams in their division.
        - get more wins at the end of the day
        - opportunities on their weakeness on their defensive side.
      - Creating five man units way donw (only if we can get shift data.)
      - Categorization of players evaluate this when doing a radial heat map of the data.
  - Follow up from last time
  - Begin talking about the Proposal.
    - Proposal Document (Let's get content in and then narrow down from there)
    - Literature survey (needs to be done quick)
    - Proposal Slide deck (let's do this once we finish the proposal document or have a better idea? TBD)
  - Next steps on building.
    - Helmeier Questions (in google docs whip up a draft?)
    - Literature Survey (in google docs whip up a summary?)
  - Schedule
    - now until 19th (all in google drive here.)
      - Literature Survey
      - proposal doucment done beginning with this meeting
    - 19th to 26th
      - slides
      - gantt chart
        - for the entire project.
      - and recording
    - 26th
      - retrospecitve and thoughts about if we're good to submit
      - submit the 27th.

- Follow ups from last time
  - Everyone put in some papers, thank you.
    - We'll have to summarize each in a few sentences

- Begin talking about the proposal document (2 pages.) https://docs.google.com/document/d/e/2PACX-1vThwMfiQ7of-0OjhZsqV3kR78CA8Ep12VknPNQjDjQiug6X3mVEIUHGtg5nTtcUWIwYZFby5ZWatKCm/pub#h.z11rqsgxo2dh
  - Google drive thing
  - What we plan on doing
    - Seems like a website that's interactive
      - Note: will need to discuss a stack that we're all onboard with.
    - above.
  - why you want to do it
    - give nhl teams a way to evaluate players on a line
    - fantasy users see how a player traded might get affected.
    - fans look and try to understand trends (kind of like statcast/baseball savant in baseball, look this up dan)
      - fun to look at as well.
    - get a good mark
  - how you will do it
    - web app
    - Discuss languages and stacks?
      - python (a backend )
        - framework later on.
      - sql
      - html css js
        - tableau maybe?
        - brain storm
  - how your approach is better than the state of the art
    - ability to compare a predicted line to a real line
      - I don't see that anywhere?
    - no real pools of player comparisons.
    - make our own combination of a line rather what is provided and what is been out in the real world.
  - why it may succeed
    - see above
    - and when it does what differences will it make
  - how you will measure success
    - in terms of values of a line called about net score?
      - run a model that compares two existing lines
      - compare what the model would have ran and what the result is of a new combination.
        - predictive vs baseline.
  - how long it's gonna take
    - Gantt chart
      - look above (in time.)
  - Helmeier Questions
    - What are you trying to do? Articulate your objectives using absolutely no jargon.
      - yes.
    - How is it done today; what are the limits of current practice?
      - essentially you just get to view the raw data ofa line where now you get to compare real lines and a "predicted line"
    - What's new in your approach? Why will it be successful?
        - creating the predicted line
    - Who cares?
      - me, teams, fans
    - If you're successful, what difference and impact will it make, and how do you measure them (e.g., via user studies, experiments, ground truth data, etc.)?
      - this is one that we can discuss the report done.
      - when a player gets traded how we can see his old line and his new line perform and what we can expect from that.
    - What are the risks and payoffs?
      - fans get a cool tool.
      - risks of a project is that we have a lot of goals that may or may not be reached. We'll have to move pretty swiftly at the beginning steps because we might get stuck.
        - Making sure that we essentially execute the layers in orders.
    - How much will it cost?
      - aws bill.
      - sports radar/api bills
      - data source that we may need to use
    - How long will it take?
      - semester
      - improvements after the term?
        - see risks and payoffs for timelines of what is feasible in the time frame.
    - What are the midterm and final "exams" to check for success? How will progress be measured?
      - once create our proposal and measuring each one of those levels/layers/tranches by.
    - General timeline
      - aggregating data
      - making some type of model
      - visualizing some of those pieces.

- Literature Survey
  - everyone should read their papers and give a summary.
    - we decided as a team what to include and what not to include.
    - Maybe we need to ask about this quite a bit.
    - In your summary relate what heilmeier question that it could possibly be used for.
  - We can update this.

- Proposal Slide Deck (later)
  - Should be clearer once

- Proposal Video (later)
  - If someone is good at the then we can give it to them.
  - Otherwise I can record and download when we're in a meeting together or something like that.

- Gantt Chart of Activities. (later)
  - If someone is good with this then it's awesome.

- Grading
    - [45%] You must answer the Heilmeier questions. 5% for each question. If a question doesn’t apply, say so.
    - [15%] Brief literature survey mentioning no fewer than 5 relevant papers (selected from all the papers your team have reviewed). Can be combined with Heilmeier question(s).
    - [10%] Expected innovations. Can be combined with Heilmeier question(s).
    The project should be novel and exciting in the solutions for both areas of (1) algorithm/computation and (2) visualization.
    - [10%] Plan of activities (same requirements as described in “Proposal” section above)
    - [20%] Presentation delivery
    - [-5%] Illegible text, tiny figures, bad color contrast, etc.
    - [-5%] Overrun. In addition, you may lose additional points for required content that is not covered within the time limit.

### February 5th.

#### Intros
- Dan
  - Electrical Engineering undergrad
- Kaiyu
  - NGO in finland
  - Fan of all sports
  - Salt lake city
    - I wish they were called the yeti
- Dylan
  - U at Michigan state
  - Internship with tampa
  - Working with the lions working within
- Toshan
  - REcent undergrad at temple
  - two years doing bio informatics
  - Hockey player!
- Tyler
  - lockheed martin (db side)
  - mis in analytics.
  - data storage
  - always wanted to work in sports
  - worked doing sports information.


#### House keeping

- github for code (good)
  - create a branch (I postpended with the issue number)
- meet on wednesdays at 5:15pm
  - if we don't need we'll just all agree on the discord.
- reports
  - google drive
    - proposal document
    - any docs
    - random
- github issues.
  - tracking what we need to there.
- table for gantt chartt
  - google sheets?
    - if you want anything else we can do something else here.


#### The Project

- Some ideas from dan:
  - Line explorer
    - Check to see what lines accross the league are most similar in generating chances/getting takeaways.
  - Creating a trade tree value explorer?
    - Could be a graph where we analyze what is in the return of a trade after the trade has happened?
  - Fantasy scraper/calculator chrome extension to view how your team stacks up and possible trades?
    - pie in the sky but would be cool.

- Ideas from Dylan:
  - Interactive visualization
    - looking at lines across the league
      - select a line a show a visualization and easily scroll through different teams
  - Mess around around how it goes on the format of notes.

- Ideas from Tyler
  - where shots on the ice are and when
  - Maybe a d3 map?

- Tosh
  - Radial Heat maps for interactive pieces

- Format?
  - Radial heat map
  - Some type of visualization
  - Maybe some web visualization
    - api
    - fontend
      - tableau

#### Notes
- Dan
  - Good either but I'd prefer d3.js
- Tyler
  - Good at tableau
- Tosh
  - beef with d3 (very fair)
  - Tableau
  - take a look at google scholar do it!
  - scihub!
    - ask toshan about this (from dan)
- Dylan
  - Python famialiar with viz
  - Good with either.
- Kaiyu
  - Still learning at new at it.
  - Tools that we learned from the course and use the tools.
  - Down for either

#### Take aways and timelines

- At least one to three resources added to this issue https://github.com/dgmouris/dva_6242_project/issues/2
  - Let's add this by Monday February 10th so that we can have a couple of days to read and review this.
- Give some thought about the project idea as whole and add to the following issue https://github.com/dgmouris/dva_6242_project/issues/1
  - Let's iron this out on Wednesday next meeting.